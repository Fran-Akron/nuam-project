<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma NUAM</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF;
            color: #0F172A;
        }

        .sidebar {
            width: 280px;
            background-color: #FFFFFF;
        }

        .nav-link {
            transition: background-color 0.2s, color 0.2s;
            border-left: 4px solid transparent;
            color: #475569;
        }

        .nav-link:hover {
            background-color: #FFF7ED;
            color: #EA580C;
        }

        .active-link {
            background-color: #FFF7ED;
            color: #EA580C !important;
            border-left: 4px solid #F97316;
            font-weight: 600;
        }

        .accent-bg {
            background-color: #F97316;
        }

        .accent-text {
            color: #F97316;
        }
    </style>
</head>

<body class="m-0 p-0">

    <!-- BARRA SUPERIOR -->
    <header class="h-16 flex items-center justify-between px-6 bg-white shadow-sm border-b border-slate-200">
        <div class="text-2xl font-extrabold text-slate-900">
            NUAM <span class="accent-text">Finance</span>
        </div>

        <div class="flex items-center space-x-4">
            <div class="flex items-center space-x-2 border-l border-slate-200 pl-4">
                <div class="w-8 h-8 rounded-full accent-bg flex items-center justify-center text-white font-semibold text-sm">
                    {{ user.username|first|upper }}
                </div>
                <div class="hidden sm:block text-sm text-slate-600">
                    {{ user.username }}
                </div>

                <a href="{% url 'logout' %}"
                   class="text-slate-400 hover:text-red-500 transition ml-2 p-1 rounded-md"
                   title="Cerrar Sesión">
                    ⎋
                </a>
            </div>
        </div>
    </header>

    <!-- LAYOUT PRINCIPAL -->
    <main class="flex flex-1 overflow-hidden">

        <!-- SIDEBAR -->
        <nav class="sidebar flex-shrink-0 h-screen border-r border-slate-200 hidden lg:flex flex-col">

            <div class="p-4 text-xs font-semibold uppercase text-slate-400 tracking-wider">
                Menú Principal
            </div>

            <div class="sidebar-nav flex-1 space-y-1 p-2">

                <!-- DASHBOARD -->
                <a href="{% url 'dashboard' %}"
                   class="nav-link flex items-center p-3 rounded-lg text-sm {% if active_page == 'dashboard' %}active-link{% endif %}">
                    Inicio (Dashboard)
                </a>

                <!-- CONSULTAS -->
                <a href="{% url 'consultas' %}"
                   class="nav-link flex items-center p-3 rounded-lg text-sm {% if active_page == 'consultas' %}active-link{% endif %}">
                    Consultas Consolidadas
                </a>

                <!-- REPORTES -->
                <a href="{% url 'reportes' %}"
                   class="nav-link flex items-center p-3 rounded-lg text-sm {% if active_page == 'reportes' %}active-link{% endif %}">
                    Reportes y Análisis
                </a>

                <!-- ADMINISTRACIÓN (SOLO SUPERADMIN) -->
                {% if user.is_superuser %}
                <a href="/admin/"
                   class="nav-link flex items-center p-3 rounded-lg text-sm">
                    Administración
                </a>
                {% endif %}

            </div>
        </nav>

        <!-- CONTENIDO -->
        <div class="flex-1 p-6 overflow-y-auto bg-white">
            {% block content %}
            {% endblock %}
        </div>

    </main>

</body>
</html>
